{
  "target_file": "orchestrator/app/observability/monitoring.py",
  "service_modules": [
    {
      "name": "OrchestratorService",
      "business_domain": "Core Orchestration",
      "methods": [
        "process_request",
        "coordinate_agents",
        "manage_state"
      ],
      "dependencies": [
        "state_repository",
        "agent_factory"
      ],
      "repository_needs": [
        "StateRepository",
        "AgentRepository"
      ],
      "complexity_level": "HIGH",
      "cqrs_commands": [
        "CreateSessionCommand",
        "UpdateStateCommand",
        "OrchestateCommand"
      ],
      "cqrs_queries": [
        "GetSessionQuery",
        "ListAgentsQuery",
        "GetSystemStatusQuery"
      ]
    },
    {
      "name": "AgentService",
      "business_domain": "Agent Management",
      "methods": [
        "create_agent",
        "get_agent",
        "update_agent",
        "delete_agent"
      ],
      "dependencies": [
        "agent_repository",
        "auth_service"
      ],
      "repository_needs": [
        "AgentRepository"
      ],
      "complexity_level": "MEDIUM",
      "cqrs_commands": [
        "CreateAgentCommand",
        "UpdateAgentCommand",
        "DeleteAgentCommand"
      ],
      "cqrs_queries": [
        "GetAgentQuery",
        "ListAgentsQuery",
        "SearchAgentsQuery"
      ]
    },
    {
      "name": "HealthService",
      "business_domain": "System Health",
      "methods": [
        "health_check",
        "get_status",
        "check_dependencies"
      ],
      "dependencies": [
        "monitoring_repository"
      ],
      "repository_needs": [
        "MonitoringRepository"
      ],
      "complexity_level": "LOW",
      "cqrs_commands": [
        "RecordHealthCommand"
      ],
      "cqrs_queries": [
        "GetHealthQuery",
        "GetStatusQuery"
      ]
    }
  ],
  "shared_dependencies": [
    "DatabaseConnection",
    "CacheManager",
    "Logger",
    "AuthProvider"
  ],
  "service_contracts": [
    "IOrchestratorService",
    "IAgentService",
    "IHealthService"
  ],
  "estimated_lines_reduction": 0.9
}