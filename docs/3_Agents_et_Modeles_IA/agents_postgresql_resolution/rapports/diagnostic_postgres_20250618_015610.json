{
  "agent": "Agent Diagnostic PostgreSQL",
  "version": "2.0.0",
  "mission": "Résolution définitive encodage PostgreSQL",
  "timestamp": "2025-06-18T01:56:10.457245",
  "diagnostics": [
    {
      "etape": "diagnostic_conteneur",
      "timestamp": "2025-06-18T01:56:10.457245",
      "resultats": {
        "total_containers": 4,
        "postgres_containers": 1,
        "postgres_details": [
          {
            "Command": "\"docker-entrypoint.s…\"",
            "CreatedAt": "2025-06-18 01:48:32 +0200 CEST",
            "ID": "7cd0945dc9b5",
            "Image": "postgres:16-alpine",
            "Labels": "com.docker.compose.depends_on=,com.docker.compose.image=sha256:ef2235fd13b6cb29728a98ee17862ff5c9b7d20515a9b34804da4a45062695f6,com.docker.compose.oneoff=False,com.docker.compose.project.config_files=C:\\Dev\\nextgeneration\\docker-compose.utf8.yml,com.docker.compose.project.working_dir=C:\\Dev\\nextgeneration,com.docker.compose.service=postgres,com.docker.compose.version=2.35.1,com.docker.compose.config-hash=3a75d5ad75130c4876412d80d446c6204618690ae28fbda7f321809b77837e86,com.docker.compose.project=nextgeneration,com.docker.compose.container-number=1",
            "LocalVolumes": "1",
            "Mounts": "nextgeneration…",
            "Names": "agent_postgres_nextgen_utf8",
            "Networks": "agent_network_nextgen_utf8",
            "Ports": "0.0.0.0:5432->5432/tcp",
            "RunningFor": "7 minutes ago",
            "Size": "0B",
            "State": "running",
            "Status": "Up 7 minutes (healthy)"
          }
        ],
        "postgres_actifs": 1,
        "container_principal": "agent_postgres_nextgen_utf8"
      }
    },
    {
      "etape": "diagnostic_encodage_conteneur",
      "container": "agent_postgres_nextgen_utf8",
      "timestamp": "2025-06-18T01:56:10.538484",
      "resultats": {
        "error": "Command '['docker', 'exec', 'agent_postgres_nextgen_utf8', 'psql', '-U', 'postgres', '-d', 'nextgen_db', '-t', '-c', 'SHOW lc_collate;']' returned non-zero exit status 1."
      }
    },
    {
      "etape": "diagnostic_python_psycopg2",
      "timestamp": "2025-06-18T01:56:10.938091",
      "resultats": {
        "python_version": "3.12.10 (tags/v3.12.10:0cc8128, Apr  8 2025, 12:21:36) [MSC v.1943 64 bit (AMD64)]",
        "psycopg2_version": "2.9.9 (dt dec pq3 ext lo64)",
        "psycopg2_import": "SUCCESS",
        "env_vars": {
          "PYTHONIOENCODING": "utf-8",
          "PYTHONUTF8": "1",
          "LANG": "en_US.UTF-8",
          "LC_ALL": "NON_DEFINIE"
        }
      }
    }
  ],
  "solutions": [
    {
      "nom": "Solution Encodage PostgreSQL Définitive",
      "timestamp": "2025-06-18T01:56:10.960788",
      "etapes": [],
      "scripts": [
        {
          "nom": "Configuration système PowerShell",
          "chemin": "C:\\Dev\\nextgeneration\\docs\\agents_postgresql_resolution\\solutions\\configure_encoding_system.ps1",
          "description": "Configure les variables d'environnement système"
        },
        {
          "nom": "Connexion PostgreSQL sécurisée",
          "chemin": "C:\\Dev\\nextgeneration\\docs\\agents_postgresql_resolution\\solutions\\postgres_safe_connect.py",
          "description": "Script Python avec contournement encodage"
        },
        {
          "nom": "Docker Compose final",
          "chemin": "C:\\Dev\\nextgeneration\\docker-compose.final.yml",
          "description": "Configuration PostgreSQL optimale"
        }
      ]
    }
  ],
  "status": "SUCCESS"
}